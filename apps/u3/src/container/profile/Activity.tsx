import { useOutletContext } from 'react-router-dom';
import { CurrencyETH } from '@/components/common/icons/currency-eth';
import Rss3Content from '@/components/profile/activity/Rss3Content';
import { ProfileOutletContext } from './ProfileLayout';
import { shortPubKey } from '@/utils/shared/shortPubKey';

function Activity() {
  const { address: wallets } = useOutletContext<ProfileOutletContext>();
  return (
    <div className="flex flex-col g-4 p-6">
      <div className="flex items-center justify-between">
        <h3 className="text-white font-bold">Activity</h3>
        <div className="flex items-center bg-black p-2 rounded-sm gap-2">
          <svg
            width="18"
            height="18"
            viewBox="0 0 18 18"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M14.3825 2.20586C14.402 2.30847 14.4117 2.41268 14.4117 2.51711V2.78378C14.9953 2.88138 15.5253 3.18273 15.9077 3.63429C16.2901 4.08584 16.4999 4.65834 16.5 5.25003V6.9692C17.2192 7.15461 17.75 7.8067 17.75 8.58336V11.5C17.75 11.8696 17.6272 12.2286 17.4009 12.5208C17.1747 12.8129 16.8578 13.0217 16.5 13.1142V14.8334C16.5 15.4964 16.2366 16.1323 15.7678 16.6011C15.2989 17.07 14.663 17.3334 14 17.3334H2.75C2.08696 17.3334 1.45107 17.07 0.982233 16.6011C0.513392 16.1323 0.25 15.4964 0.25 14.8334V5.25003C0.249999 4.58785 0.512704 3.95273 0.980464 3.48403C1.44822 3.01533 2.08283 2.75136 2.745 2.75003V2.72211L12.4342 0.879197C12.6492 0.838303 12.8702 0.840169 13.0845 0.88469C13.2988 0.929211 13.5023 1.01551 13.6833 1.13867C13.8642 1.26183 14.0191 1.41943 14.1392 1.60247C14.2592 1.7855 14.3421 1.9904 14.3829 2.20545L14.3825 2.20586ZM14 4.00003H2.75C2.43116 4.00001 2.12437 4.12183 1.89239 4.34057C1.66041 4.5593 1.52079 4.85841 1.50208 5.1767L1.5 5.25003V14.8334C1.49998 15.1522 1.6218 15.459 1.84053 15.691C2.05927 15.9229 2.35838 16.0626 2.67667 16.0813L2.75 16.0834H14C14.3188 16.0834 14.6256 15.9616 14.8576 15.7428C15.0896 15.5241 15.2292 15.225 15.2479 14.9067L15.25 14.8334V13.1667H11.7083C10.8795 13.1667 10.0847 12.8375 9.49862 12.2514C8.91257 11.6654 8.58333 10.8705 8.58333 10.0417C8.58333 9.2129 8.91257 8.41804 9.49862 7.83199C10.0847 7.24594 10.8795 6.9167 11.7083 6.9167H15.25V5.25003C15.25 4.93119 15.1282 4.6244 14.9095 4.39242C14.6907 4.16044 14.3916 4.02082 14.0733 4.00211L14 4.00003ZM16.0833 8.1667H11.7083C11.2187 8.16671 10.7485 8.35824 10.3982 8.70035C10.048 9.04247 9.84542 9.50803 9.83388 9.99752C9.82235 10.487 10.0027 10.9616 10.3365 11.3198C10.6703 11.6781 11.1309 11.8915 11.62 11.9146L11.7083 11.9167H16.0833C16.1854 11.9167 16.2839 11.8792 16.3602 11.8114C16.4364 11.7436 16.4851 11.6501 16.4971 11.5488L16.5 11.5V8.58336C16.5 8.48131 16.4625 8.38281 16.3947 8.30654C16.3269 8.23028 16.2334 8.18155 16.1321 8.16961L16.0833 8.1667ZM11.7083 9.4167C11.8741 9.4167 12.0331 9.48255 12.1503 9.59976C12.2675 9.71697 12.3333 9.87594 12.3333 10.0417C12.3333 10.2075 12.2675 10.3664 12.1503 10.4836C12.0331 10.6008 11.8741 10.6667 11.7083 10.6667C11.5426 10.6667 11.3836 10.6008 11.2664 10.4836C11.1492 10.3664 11.0833 10.2075 11.0833 10.0417C11.0833 9.87594 11.1492 9.71697 11.2664 9.59976C11.3836 9.48255 11.5426 9.4167 11.7083 9.4167ZM12.7158 2.10128L12.6675 2.10795L9.28958 2.74961H13.1613V2.49753L13.1546 2.4392C13.1355 2.33898 13.0802 2.24927 12.9994 2.18706C12.9185 2.12485 12.8176 2.09448 12.7158 2.1017V2.10128Z"
              fill="white"
            />
          </svg>
          <p className="text-sm text-gray-400">{shortPubKey(wallets[0])}</p>
        </div>
      </div>
      <Rss3Content address={wallets} empty={<NoActivity />} />
    </div>
  );
}
export default Activity;
export function NoActivity() {
  return (
    <div className="no-item">
      <CurrencyETH />
      <p>No transactions found on Ethereum.</p>
    </div>
  );
}
